<<<<<<<
            <tbody id="users-table-body">
                <!-- Users will be populated here -->
            </tbody>
        </table>
    </section>
=======
            <tbody id="users-table-body">
                <!-- Users will be populated here -->
            </tbody>
        </table>
    </section>

  <script>
    async function fetchUsers() {
      try {
        const response = await fetch("{{ url_for('monitor_users') }}");
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        const users = await response.json();
        const tbody = document.getElementById("users-table-body");
        tbody.innerHTML = "";

        users.forEach(user => {
          const tr = document.createElement("tr");

          tr.innerHTML = `
            <td>${user.user_id}</td>
            <td>${user.name}</td>
            <td>${user.email}</td>
            <td>${new Date(user.created_at).toLocaleString()}</td>
            <td>
              <form method="POST" action="{{ url_for('monitor_users') }}" onsubmit="return confirm('Are you sure you want to delete this user?');">
                <input type="hidden" name="user_id" value="${user.user_id}" />
                <button type="submit" class="btn-delete">Delete</button>
              </form>
            </td>
          `;

          tbody.appendChild(tr);
        });
      } catch (error) {
        console.error("Failed to fetch users:", error);
      }
    }

    // Fetch users when the page loads
    window.onload = fetchUsers;
  </script>
